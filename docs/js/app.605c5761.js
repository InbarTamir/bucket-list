(function(){"use strict";var t={4060:function(t,e,s){var o=s(2856),i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("nav",[e("router-link",{attrs:{to:"/",exact:""}},[t._v("Dashboard")]),e("router-link",{attrs:{to:"/activity"}},[t._v("Activity")])],1),e("router-view")],1)},a=[],r=s(1656),n={},c=(0,r.A)(n,i,a,!1,null,null,null),l=c.exports,d=s(1594),u=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dashboard"},[e("div",{staticClass:"dashboard-header"},[e("h1",[t._v("Notes Dashboard")]),e("div",{staticClass:"actions"},[e("div",{staticClass:"file-actions"},[e("button",{staticClass:"secondary",attrs:{disabled:t.isExporting},on:{click:t.exportData}},[e("font-awesome-icon",{attrs:{icon:t.isExporting?"spinner":"file-export",spin:t.isExporting}}),t._v(" "+t._s(t.isExporting?"Exporting...":"Export")+" ")],1),e("button",{staticClass:"secondary",attrs:{disabled:t.isImporting},on:{click:t.importData}},[e("font-awesome-icon",{attrs:{icon:t.isImporting?"spinner":"file-import",spin:t.isImporting}}),t._v(" "+t._s(t.isImporting?"Importing...":"Import")+" ")],1)]),e("button",{staticClass:"primary prominent",on:{click:function(e){t.showCreateBucketModal=!0}}},[e("font-awesome-icon",{attrs:{icon:"folder-plus"}}),t._v(" Create Bucket")],1),e("button",{staticClass:"success prominent",on:{click:function(e){t.showCreateNoteModal=!0}}},[e("font-awesome-icon",{attrs:{icon:"file-signature"}}),t._v(" Create Note")],1)])]),e("div",{staticClass:"buckets-grid"},[e("div",{staticClass:"section labeled-buckets"},[e("h2",[t._v("Labeled Buckets")]),e("div",{staticClass:"buckets-container"},t._l(t.labeledBuckets,(function(s){return e("bucket",{key:s.id,attrs:{bucket:s},on:{"add-note":t.openCreateNoteModal,"start-note":t.startNote,"delete-note":t.deleteNote}})})),1)]),e("div",{staticClass:"section time-buckets"},[e("h2",[t._v("Time-Based Buckets")]),e("div",{staticClass:"buckets-container"},t._l(t.timeBuckets,(function(s){return e("bucket",{key:s.title,attrs:{bucket:s,"show-add-button":!1},on:{"start-note":t.startNote,"delete-note":t.deleteNote}})})),1)])]),t.inProgressRecords.length?e("div",{staticClass:"in-progress-section"},[e("h2",[t._v("In Progress")]),e("div",{staticClass:"notes-list"},t._l(t.inProgressRecords,(function(s){return e("div",{key:s.id,staticClass:"note-item"},[e("div",{staticClass:"note-info"},[e("span",{staticClass:"description"},[t._v(t._s(s.description))]),s.label?e("span",{staticClass:"label"},[t._v(t._s(s.label))]):t._e(),e("span",{staticClass:"time"},[t._v(t._s(s.timeEstimation)+"m")]),e("span",{staticClass:"started-at"},[t._v("Started: "+t._s(t.Helpers.formatDateTime(s.startedAt)))])]),e("div",{staticClass:"actions"},[e("button",{staticClass:"active",attrs:{"data-tooltip":"Restart"},on:{click:function(e){return t.restartNote(s)}}},[e("font-awesome-icon",{attrs:{icon:"rotate-right"}})],1),e("button",{staticClass:"success",attrs:{"data-tooltip":"Finish"},on:{click:function(e){return t.finishNote(s)}}},[e("font-awesome-icon",{attrs:{icon:"check"}})],1),e("button",{staticClass:"danger",attrs:{"data-tooltip":"Discard"},on:{click:function(e){return t.discardNote(s)}}},[e("font-awesome-icon",{attrs:{icon:"trash"}})],1)])])})),0)]):t._e(),t.showCreateNoteModal?e("create-note-modal",{attrs:{"selected-bucket":t.selectedBucket},on:{close:t.closeCreateNoteModal,submit:t.createNote,"delete-note":t.deleteNote}}):t._e(),t.showCreateBucketModal?e("create-bucket-form",{on:{close:function(e){t.showCreateBucketModal=!1},"delete-note":t.deleteNote}}):t._e()],1)},m=[],p=(s(8992),s(4520),s(1910)),h=function(){var t=this,e=t._self._c;return e("div",{staticClass:"bucket",class:{"in-progress-shadow":t.bucket.notesMap.inProgress.length>0,"bucket-completed":t.isDone}},[e("h2",[t._v(" "+t._s(t.bucket.title)+" "),t.timeEstimation?e("span",{staticClass:"time-indicator"},[t._v(" "+t._s(t.timeEstimation)+" "),e("font-awesome-icon",{attrs:{icon:"clock"}})],1):t._e()]),e("div",{staticClass:"stats"},[e("div",{staticClass:"count"},[e("span",{staticClass:"number"},[t._v(t._s(t.bucket.stats.pending))]),e("span",{staticClass:"label"},[t._v("Pending")])]),e("div",{class:["count",{"in-progress":t.bucket.stats.inProgress>0}]},[e("span",{staticClass:"number"},[t._v(t._s(t.bucket.stats.inProgress))]),e("span",{staticClass:"label"},[t._v("In-Progress")])]),e("div",{staticClass:"count completed"},[e("span",{staticClass:"number"},[t._v(t._s(t.bucket.stats.completed))]),e("span",{staticClass:"label"},[t._v("Completed")])])]),e("div",{staticClass:"bucket-actions"},[t.showAddButton?e("button",{on:{click:t.addNote}},[t._v("Add Note")]):t._e(),t.pendingNotes.length?[e("button",{staticClass:"outlined",on:{click:t.randomNote}},[e("font-awesome-icon",{attrs:{icon:"dice"}}),t._v(" Random")],1),e("button",{staticClass:"outlined",on:{click:t.pickNote}},[e("font-awesome-icon",{attrs:{icon:"hand-pointer"}}),t._v(" Pick")],1)]:t._e()],2),e("random-note-modal",{attrs:{show:t.showRandomModal,bucket:t.bucket,notes:t.pendingNotes},on:{close:t.closeRandomModal,start:t.startNote,delete:t.deleteNote}}),e("pick-note-modal",{attrs:{show:t.showPickModal,bucket:t.bucket,notes:t.pendingNotes},on:{close:t.closePickModal,start:t.startNote,delete:t.deleteNote}})],1)},v=[],f=function(){var t=this,e=t._self._c;return e("dialog",{ref:"dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h3",[t._v('Random Note from "'+t._s(t.bucket.title)+'"')]),e("button",{staticClass:"close-button",attrs:{"data-tooltip":"Close"},on:{click:function(e){return t.$emit("close")}}},[e("font-awesome-icon",{attrs:{icon:"times"}})],1)]),t.currentNote?e("div",{staticClass:"note-content"},[e("div",{staticClass:"note-info"},[e("div",{staticClass:"note-details"},[e("span",{staticClass:"time-badge"},[t._v(t._s(t.currentNote.timeEstimation)+"m "),e("font-awesome-icon",{attrs:{icon:"clock"}})],1),e("p",{staticClass:"description"},[t._v(t._s(t.currentNote.description))])]),e("div",{staticClass:"actions"},[e("button",{staticClass:"play",attrs:{"data-tooltip":"Start"},on:{click:t.startNote}},[e("font-awesome-icon",{attrs:{icon:"play"}})],1),e("button",{staticClass:"danger",attrs:{"data-tooltip":"Delete"},on:{click:t.deleteNote}},[e("font-awesome-icon",{attrs:{icon:"trash"}})],1)])]),e("div",{staticClass:"modal-actions"},[t.notes.length>1?e("button",{staticClass:"secondary",on:{click:t.nextNote}},[e("font-awesome-icon",{attrs:{icon:"dice"}}),t._v(" Next Random")],1):t._e()])]):e("div",{staticClass:"empty-state"},[e("p",[t._v("No available notes in this bucket")]),e("button",{staticClass:"danger",on:{click:function(e){return t.$emit("close")}}},[t._v("Close")])])])])},b=[],y=s(2908),g={props:{show:Boolean,bucket:Object,notes:Array},components:{FontAwesomeIcon:y.gc},data(){return{currentNote:null}},watch:{show:{immediate:!0,handler(t){t?(this.pickRandomNote(),this.$refs.dialog?.showModal()):(this.$refs.dialog?.close(),this.currentNote=null)}}},mounted(){this.$refs.dialog.addEventListener("close",(()=>{this.$emit("close")}))},methods:{pickRandomNote(){if(this.notes.length>0){const t=this.notes.filter((t=>t.id!==this.currentNote?.id)),e=Math.floor(Math.random()*t.length);this.currentNote=t[e]}else this.currentNote=null},startNote(){this.$emit("start",this.currentNote),this.$emit("close")},nextNote(){this.pickRandomNote()},deleteNote(){this.$emit("delete",this.currentNote),this.pickRandomNote()}}},k=g,_=(0,r.A)(k,f,b,!1,null,"2611a7ec",null),w=_.exports,C=function(){var t=this,e=t._self._c;return e("dialog",{ref:"dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("div",[e("h3",[t._v("Pick Note from "+t._s(t.bucket.title))]),e("div",{staticClass:"search-box"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],attrs:{type:"text",placeholder:"Search notes...",autofocus:""},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}})])]),e("button",{staticClass:"close-button",attrs:{"data-tooltip":"Close"},on:{click:function(e){return t.$emit("close")}}},[e("font-awesome-icon",{attrs:{icon:"times"}})],1)]),e("div",{staticClass:"notes-list"},[t.filteredNotes.length?e("table",[t._m(0),e("tbody",t._l(t.filteredNotes,(function(s){return e("tr",{key:s.id},[e("td",[t._v(t._s(s.description))]),e("td",[t._v(t._s(s.timeEstimation)+"m")]),e("td",{staticClass:"actions"},[e("button",{staticClass:"play",attrs:{disabled:"in-progress"===s.status,"data-tooltip":"Start"},on:{click:function(e){return t.startNote(s)}}},[e("font-awesome-icon",{attrs:{icon:"play"}})],1),e("button",{staticClass:"danger",attrs:{"data-tooltip":"Delete"},on:{click:function(e){return t.deleteNote(s)}}},[e("font-awesome-icon",{attrs:{icon:"trash"}})],1)])])})),0)]):e("div",{staticClass:"empty-state"},[t._v("No notes found")])])])])},N=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{staticStyle:{width:"60%"}},[t._v("Description")]),e("th",{staticStyle:{width:"20%"}},[t._v("Time")]),e("th",{staticStyle:{width:"20%"}},[t._v("Actions")])])])}],A={props:{show:Boolean,bucket:Object,notes:Array},components:{FontAwesomeIcon:y.gc},data(){return{searchQuery:""}},watch:{show(t){t?(this.$refs.dialog.showModal(),this.$nextTick((()=>{this.$el.querySelector("input").focus()}))):this.$refs.dialog.close()}},mounted(){this.$refs.dialog.addEventListener("close",(()=>{this.$emit("close")}))},computed:{filteredNotes(){return this.notes.filter((t=>t.description.toLowerCase().includes(this.searchQuery.toLowerCase())))}},methods:{startNote(t){this.$emit("start",t),this.$emit("close")},deleteNote(t){this.$emit("delete",t)}}},x=A,$=(0,r.A)(x,C,N,!1,null,"1f5fcbc8",null),D=$.exports,R=s(2473),B=s(9133),E=s(6573),M=s(1833);s(4114),s(2577),s(3949);const O=[{min:0,max:15,title:"Up to 15 mins"},{min:16,max:30,title:"Up to 30 mins"},{min:31,max:60,title:"Up to 1 hour"},{min:61,max:120,title:"Up to 2 hours"},{min:121,max:1/0,title:"Over 2 hours"}],P={day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0};var I=new WeakMap;class T{constructor(t={},{origin:e="client",target:s="client"}={}){(0,B.A)(this,I,void 0),(0,M.A)(I,this,this.constructor._schema??{}),Object.keys((0,E.A)(I,this)).forEach((o=>{const{[e]:i,[s]:a,defaultValue:r}=(0,E.A)(I,this)[o];this[a]=t[i]??r}))}static serverToClient(t){return new this(t,{origin:"server",target:"client"})}static clientToServer(t){return new this(t,{origin:"client",target:"server"})}}class S extends T{constructor(t={},e={}){super(t,e)}}(0,R.A)(S,"_schema",{id:{server:"id",client:"id",defaultValue:null},description:{server:"description",client:"description",defaultValue:""},timeEstimation:{server:"time_estimation",client:"timeEstimation",defaultValue:0},label:{server:"label",client:"label",defaultValue:""},recurring:{server:"recurring",client:"recurring",defaultValue:!1}});class F extends T{constructor(t={},e={}){super(t,e)}static createFromNote(t={}){return new F({id:Date.now(),noteId:t.id,description:t.description,timeEstimation:t.timeEstimation,label:t.label,startedAt:(new Date).toISOString(),completedAt:null,timeToComplete:null})}}(0,R.A)(F,"_schema",{id:{server:"id",client:"id",defaultValue:null},noteId:{server:"note_id",client:"noteId",defaultValue:null},description:{server:"description",client:"description",defaultValue:""},timeEstimation:{server:"time_estimation",client:"timeEstimation",defaultValue:0},label:{server:"label",client:"label",defaultValue:""},startedAt:{server:"started_at",client:"startedAt",defaultValue:null},completedAt:{server:"completed_at",client:"completedAt",defaultValue:null},timeToComplete:{server:"time_to_complete",client:"timeToComplete",defaultValue:null}});class L extends T{constructor(t={},e={}){super(t,e)}}(0,R.A)(L,"_schema",{id:{server:"id",client:"id",defaultValue:null},title:{server:"title",client:"title",defaultValue:""},createdAt:{server:"created_at",client:"createdAt",defaultValue:null}});class j{constructor(t={}){this.id=t.id||null,this.title=t.title||"",this.labeled=t.labeled||!1,this.min=t.min||0,this.max=t.max||0,this.notes=t.notes||[],this.activityRecords=t.activityRecords||[]}get activityRecordsMap(){return{completed:this.activityRecords.filter((t=>t.completedAt)),inProgress:this.activityRecords.filter((t=>!t.completedAt))}}get notesMap(){const t=this.activityRecords.filter((t=>!t.completedAt)),e={inProgress:[],pending:[]};return this.notes.forEach((s=>{const o=t.find((t=>t.noteId===s.id));o?e.inProgress.push(s):e.pending.push(s)})),e}get stats(){return{pending:this.notesMap.pending.length,inProgress:this.notesMap.inProgress.length,completed:this.activityRecordsMap.completed.length}}}var V={components:{RandomNoteModal:w,PickNoteModal:D,FontAwesomeIcon:y.gc},props:{bucket:j,showAddButton:{type:Boolean,default:!0}},data(){return{showRandomModal:!1,showPickModal:!1}},computed:{pendingNotes(){return this.bucket.notesMap.pending},inProgressNotes(){return this.bucket.notesMap.inProgress},isDone(){return!this.bucket.labeled&&0===this.bucket.stats.pending&&0===this.bucket.stats.inProgress},timeEstimation(){return this.bucket.max?this.bucket.max===1/0?"∞":`${this.bucket.max}m`:null}},methods:{addNote(){this.$emit("add-note",this.bucket)},randomNote(){this.showRandomModal=!0},pickNote(){this.showPickModal=!0},startNote(t){this.$emit("start-note",t)},closeRandomModal(){this.showRandomModal=!1},closePickModal(){this.showPickModal=!1},deleteNote(t){this.$emit("delete-note",t)}}},Q=V,U=(0,r.A)(Q,h,v,!1,null,"4daf06f6",null),z=U.exports,H=(s(1454),function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal"},[e("div",{staticClass:"modal-content"},[e("h2",[t._v("Create Note")]),e("form",{on:{submit:function(e){return e.preventDefault(),t.submitForm.apply(null,arguments)}}},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"description"}},[t._v("Description:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.description,expression:"form.description"}],attrs:{id:"description",type:"text",required:""},domProps:{value:t.form.description},on:{input:function(e){e.target.composing||t.$set(t.form,"description",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"timeEstimation"}},[t._v("Time Estimation (minutes):")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.form.timeEstimation,expression:"form.timeEstimation",modifiers:{number:!0}}],attrs:{id:"timeEstimation",type:"number",required:"",min:"1"},domProps:{value:t.form.timeEstimation},on:{input:function(e){e.target.composing||t.$set(t.form,"timeEstimation",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),e("div",{staticClass:"form-group checkbox"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.recurring,expression:"form.recurring"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.recurring)?t._i(t.form.recurring,null)>-1:t.form.recurring},on:{change:function(e){var s=t.form.recurring,o=e.target,i=!!o.checked;if(Array.isArray(s)){var a=null,r=t._i(s,a);o.checked?r<0&&t.$set(t.form,"recurring",s.concat([a])):r>-1&&t.$set(t.form,"recurring",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.form,"recurring",i)}}}),t._v(" Recurring "),e("span",{staticClass:"help-icon",attrs:{"data-tooltip":"This note will not be removed when completed"}},[e("font-awesome-icon",{attrs:{icon:"circle-question"}})],1)])]),t.selectedBucket?t._e():e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"label"}},[t._v("Label (optional):")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.label,expression:"form.label"}],attrs:{id:"label"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"label",e.target.multiple?s:s[0])}}},[e("option",{attrs:{value:""}},[t._v("No Label")]),t._l(t.labeledBuckets,(function(s){return e("option",{key:s.title,domProps:{value:s.title}},[t._v(" "+t._s(s.title)+" ")])}))],2)]),e("div",{staticClass:"actions"},[e("button",{attrs:{type:"submit"}},[t._v("Create")]),e("button",{attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v("Cancel")])])])])])}),K=[],q={props:{selectedBucket:{type:Object,default:null}},data(){return{form:{description:"",timeEstimation:null,label:"",recurring:!1}}},computed:{...(0,p.aH)({labeledBuckets:t=>t.labeledBuckets})},created(){this.selectedBucket&&(this.form.label=this.selectedBucket.title)},methods:{submitForm(){this.$emit("submit",{...this.form})}}},J=q,G=(0,r.A)(J,H,K,!1,null,"14e0327c",null),Y=G.exports,W=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal"},[e("div",{staticClass:"modal-content"},[t._m(0),e("form",{on:{submit:function(e){return e.preventDefault(),t.submitForm.apply(null,arguments)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],ref:"titleInput",attrs:{type:"text",placeholder:"Enter bucket label",required:"",autofocus:""},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),e("div",{staticClass:"actions"},[e("button",{attrs:{type:"submit"}},[t._v("Create")]),e("button",{staticClass:"danger",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v("Cancel")])])])])])},X=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal-header"},[e("h3",[t._v("Create New Bucket")])])}],Z={data(){return{title:""}},methods:{submitForm(){this.$store.dispatch("addLabeledBucket",{title:this.title}),this.$emit("close")}}},tt=Z,et=(0,r.A)(tt,W,X,!1,null,"49ed3246",null),st=et.exports,ot={formatDateTime:t=>{if(!t)return"-";try{const e=new Date(t);return e.toLocaleString(void 0,P)}catch(e){return console.error("Invalid date:",e),"Invalid Date"}}},it={name:"Dashboard",components:{Bucket:z,CreateNoteModal:Y,CreateBucketForm:st},data(){return{Helpers:ot,showCreateNoteModal:!1,selectedBucket:null,showCreateBucketModal:!1,isExporting:!1,isImporting:!1}},computed:{...(0,p.aH)(["notes"]),...(0,p.L8)(["buckets","inProgressRecords"]),labeledBuckets(){return this.buckets.filter((t=>t.labeled))},timeBuckets(){return this.buckets.filter((t=>!t.labeled))}},methods:{openCreateNoteModal(t=null){this.selectedBucket=t,this.showCreateNoteModal=!0},closeCreateNoteModal(){this.showCreateNoteModal=!1,this.selectedBucket=null},createNote(t){this.$store.dispatch("createNote",t),this.closeCreateNoteModal()},startNote(t){this.$store.dispatch("startNote",t)},finishNote(t){this.$store.dispatch("finishNote",t)},restartNote(t){this.$store.dispatch("restartNote",t)},discardNote(t){this.$store.dispatch("discardNote",t)},deleteNote(t){this.$store.dispatch("deleteNote",t.id)},async exportData(){this.isExporting=!0;try{await this.$store.dispatch("exportToFile")}finally{this.isExporting=!1}},async importData(){this.isImporting=!0;try{await this.$store.dispatch("importFromFile")}finally{this.isImporting=!1}}}},at=it,rt=(0,r.A)(at,u,m,!1,null,"15550308",null),nt=rt.exports,ct=function(){var t=this,e=t._self._c;return e("div",{staticClass:"activity-view"},[e("div",{staticClass:"toolbar"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],staticClass:"search-input",attrs:{type:"text",placeholder:"Search by description..."},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}})]),e("table",[e("thead",[e("tr",t._l(t.columns,(function(s){return e("th",{key:s.key,on:{click:function(e){return t.sort(s.key)}}},[t._v(" "+t._s(s.label)+" "),e("font-awesome-icon",{class:["sort-icon",{active:t.sortKey===s.key}],attrs:{icon:"asc"===t.sortOrder?"arrow-up":"arrow-down"}})],1)})),0)]),e("tbody",t._l(t.filteredRecords,(function(s){return e("tr",{key:s.id},[e("td",{staticClass:"description-cell"},[t._v(t._s(s.description))]),e("td",{staticClass:"label-cell"},[s.label?e("span",{staticClass:"label"},[t._v(t._s(s.label))]):e("span",[t._v("-")])]),e("td",{staticClass:"date-cell"},[t._v(t._s(t.formatDate(s.startedAt)))]),e("td",{staticClass:"date-cell"},[t._v(t._s(s.completedAt?t.formatDate(s.completedAt):"-"))]),e("td",{staticClass:"number-cell"},[t._v(t._s(s.timeEstimation)+"m")]),e("td",{class:["number-cell",{overdue:t.isOverdue(s)}],attrs:{"data-tooltip":t.getOverdueTooltip(s)}},[t._v(" "+t._s(s.timeToComplete?`${s.timeToComplete}m`:"-")+" ")])])})),0)])])},lt=[],dt=(s(7145),{data(){return{searchQuery:"",columns:[{key:"description",label:"Description"},{key:"label",label:"Label"},{key:"startedAt",label:"Started"},{key:"completedAt",label:"Completed"},{key:"timeEstimation",label:"Estimated Time"},{key:"timeToComplete",label:"Time Taken"}],sortKey:"startedAt",sortOrder:"desc"}},computed:{...(0,p.aH)(["notes","activityRecords"]),sortedRecords(){return this.activityRecords.toSorted(((t,e)=>{let s=t[this.sortKey],o=e[this.sortKey];["startedAt","completedAt"].includes(this.sortKey)&&(s=s?new Date(s).getTime():0,o=o?new Date(o).getTime():0);const i="asc"===this.sortOrder?1:-1;return s?o&&s>o?1*i:-1*i:1*i}))},filteredRecords(){if(!this.searchQuery)return this.sortedRecords;const t=this.searchQuery.toLowerCase();return this.sortedRecords.filter((e=>e.description.toLowerCase().includes(t)))}},methods:{formatDate(t){return ot.formatDateTime(t)},sort(t){this.sortKey===t?this.sortOrder="asc"===this.sortOrder?"desc":"asc":(this.sortKey=t,this.sortOrder="asc")},isOverdue(t){return!!t.timeToComplete&&t.timeToComplete>t.timeEstimation+5},getOverdueTooltip(t){if(!this.isOverdue(t))return null;const e=t.timeToComplete-t.timeEstimation;return`${e.toFixed(1)}m over estimation`}}}),ut=dt,mt=(0,r.A)(ut,ct,lt,!1,null,"46d6077c",null),pt=mt.exports;o.Ay.use(d.Ay);const ht=window.location.href.includes("github.io"),vt=[{path:"/",name:"dashboard",component:nt,exact:!0},{path:"/activity",name:"activity",component:pt}],ft=new d.Ay({mode:ht?"hash":"history",base:"/bucket-list/",routes:vt});var bt=ft,yt=s(4071);const gt={"1.0":t=>t,"0.0":t=>({version:"1.0",notes:t.notes||[],activity_records:t.activity_records||[],labeled_buckets:t.labeled_buckets||[]})};function kt(t){if(!t)return null;const e=t.version||"0.0",s=Object.keys(gt).sort(),o=s[s.length-1];return e===o?t:(console.log(`Migrating data from version ${e} to ${o}`),gt[o](t))}const _t="bucket-list-db",wt="app-data",Ct=2,Nt=50,At=["notes","activity_records","labeled_buckets"],xt="1.0";async function $t(){return(0,yt.P2)(_t,Ct,{upgrade(t,e,s){t.objectStoreNames.contains(wt)||t.createObjectStore(wt)}})}function Dt(t){if(!t||"object"!==typeof t)throw new Error("Invalid data format");for(const e of At)if(!Array.isArray(t[e]))throw new Error(`Missing or invalid ${e} array`);return!0}function Rt(t){return t.version||(t.version=xt),t}async function Bt(t){try{Dt(t);const e=Rt({...t,version:xt}),s=new Blob([JSON.stringify(e)]).size/1048576;if(s>Nt)throw new Error(`Data size (${Math.round(s)}MB) exceeds limit (${Nt}MB)`);const o=await $t();await o.put(wt,e,"app-state"),console.log(`Data saved to IndexedDB successfully (${Math.round(100*s)/100}MB)`)}catch(e){throw console.error("Failed to save to IndexedDB:",e),new Error("Failed to save data to browser storage")}}async function Et(){try{const t=await $t(),e=await t.get(wt,"app-state");if(e){const t=kt(e);return Rt(t)}return null}catch(t){return console.error("Failed to load from IndexedDB:",t),null}}async function Mt(){try{const t=await $t();return!!t}catch{return!1}}s(4603),s(7566),s(8721);async function Ot(t){const e=JSON.stringify(t,null,2),s=new Blob([e],{type:"application/json"}),o=URL.createObjectURL(s),i=document.createElement("a");i.href=o,i.download=It(),document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(o)}async function Pt(){return new Promise(((t,e)=>{const s=document.createElement("input");s.type="file",s.accept=".json",s.onchange=async s=>{const o=s.target.files[0];if(!o)return e(new Error("No file selected"));try{const e=await o.text();t(JSON.parse(e))}catch(i){e(new Error("Invalid backup file"))}},s.click()}))}function It(){const t=(new Date).toISOString().split("T")[0];return`bucket-list-backup-${t}.json`}o.Ay.use(p.Ay);var Tt=new p.Ay.Store({state:{notes:[],labeledBuckets:[],activityRecords:[]},getters:{inProgressRecords:t=>t.activityRecords.filter((t=>!t.completedAt)),buckets:t=>{const e=O.map((e=>{const s=t.notes.filter((t=>!t.label&&t.timeEstimation>=e.min&&t.timeEstimation<=e.max));return new j({...e,notes:s,activityRecords:t.activityRecords.filter((t=>t.timeEstimation>=e.min&&t.timeEstimation<=e.max))})})),s=t.labeledBuckets.map((e=>{const s=t.notes.filter((t=>t.label===e.title));return new j({...e,labeled:!0,notes:s,activityRecords:t.activityRecords.filter((t=>t.label===e.title))})}));return[...e,...s]}},mutations:{setNotes(t,e){o.Ay.set(t,"notes",e)},setLabeledBuckets(t,e){o.Ay.set(t,"labeledBuckets",e)},setActivityRecords(t,e){o.Ay.set(t,"activityRecords",e)},addNote(t,e){t.notes.push(e)},updateNote(t,e){const s=t.notes.findIndex((t=>t.id===e.id));-1!==s&&o.Ay.set(t.notes,s,e)},deleteNote(t,e){const s=t.notes.findIndex((t=>t.id===e));-1!==s&&t.notes.splice(s,1)},addActivityRecordFromNote(t,e){t.activityRecords.push(e)},addLabeledBucket(t,e){t.labeledBuckets.push({id:Date.now(),title:e.title,createdAt:(new Date).toISOString()})},updateActivityRecord(t,e){const s=t.activityRecords.findIndex((t=>t.id===e.id));-1!==s&&o.Ay.set(t.activityRecords,s,e)},discardNote(t,e){const s=t.activityRecords.findIndex((t=>t.id===e.id));-1!==s&&t.activityRecords.splice(s,1)}},actions:{_getNormalizedData({state:t}){return{notes:t.notes.map((t=>S.clientToServer(t))),activity_records:t.activityRecords.map((t=>F.clientToServer(t))),labeled_buckets:t.labeledBuckets.map((t=>L.clientToServer(t)))}},async saveData({dispatch:t}){const e=await t("_getNormalizedData");await Bt(e)},async loadData({commit:t}){try{const e=await Et();if(e){const s=e.notes.map((t=>S.serverToClient(t)));t("setNotes",s);const o=e.activity_records.map((t=>F.serverToClient(t)));t("setActivityRecords",o);const i=e.labeled_buckets.map((t=>L.serverToClient(t)));t("setLabeledBuckets",i)}}catch(e){console.error("Failed to load data:",e)}},async exportToFile({dispatch:t}){try{const e=await t("_getNormalizedData");await Ot(e),o.Ay.$toast.success("Data exported successfully")}catch(e){o.Ay.$toast.error(`Export failed: ${e.message}`)}},async importFromFile({dispatch:t}){try{const e=await Pt();e&&(await Bt(e),await t("loadData"),o.Ay.$toast.success("Data imported successfully"))}catch(e){o.Ay.$toast.error(`Import failed: ${e.message}`)}},async createNote({commit:t,dispatch:e},s){const o=new S({...s,id:Date.now()});t("addNote",o),await e("saveData")},async startNote({commit:t,dispatch:e},s){const o=F.createFromNote(s);t("addActivityRecordFromNote",o),await e("saveData")},async finishNote({commit:t,dispatch:e,state:s},o){const i=(new Date).toISOString(),a=(new Date(i)-new Date(o.startedAt))/1e3/60,r=Math.max(.1,Math.round(10*a)/10),n=new F({...o,completedAt:i,timeToComplete:r}),c=s.notes.find((t=>t.id===o.noteId));c&&!c.recurring&&t("deleteNote",c.id),t("updateActivityRecord",n),await e("saveData")},async deleteNote({commit:t,dispatch:e},s){t("deleteNote",s),await e("saveData")},async addLabeledBucket({commit:t,dispatch:e},s){t("addLabeledBucket",s),await e("saveData")},async restartNote({commit:t,dispatch:e},s){const o=new F({...s,startedAt:(new Date).toISOString()});t("updateActivityRecord",o),await e("saveData")},async discardNote({commit:t,dispatch:e},s){t("discardNote",s),await e("saveData")}},modules:{}}),St=s(7113),Ft=s(876),Lt=s(8995);Ft.Yv.add(Lt.a$,Lt.xNJ,Lt.A8r,Lt.lLb,Lt.yLS,Lt.e68,Lt.INu,Lt.B0C,Lt.E5r,Lt.UD_,Lt.o1d,Lt.$MS,Lt.z1G,Lt.APe,Lt.ijD,Lt.GRI),o.Ay.config.productionTip=!1,o.Ay.component("font-awesome-icon",y.gc);const jt={position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1};async function Vt(){try{const t=await Mt();t||o.Ay.$toast.warning("Local storage is not available. Your data will not persist."),await Tt.dispatch("loadData"),new o.Ay({router:bt,store:Tt,render:t=>t(l)}).$mount("#app")}catch(t){console.error("Failed to initialize app:",t),o.Ay.$toast.error("Failed to load application data")}}o.Ay.use(St.Ay,jt),Vt()}},e={};function s(o){var i=e[o];if(void 0!==i)return i.exports;var a=e[o]={exports:{}};return t[o].call(a.exports,a,a.exports,s),a.exports}s.m=t,function(){var t=[];s.O=function(e,o,i,a){if(!o){var r=1/0;for(d=0;d<t.length;d++){o=t[d][0],i=t[d][1],a=t[d][2];for(var n=!0,c=0;c<o.length;c++)(!1&a||r>=a)&&Object.keys(s.O).every((function(t){return s.O[t](o[c])}))?o.splice(c--,1):(n=!1,a<r&&(r=a));if(n){t.splice(d--,1);var l=i();void 0!==l&&(e=l)}}return e}a=a||0;for(var d=t.length;d>0&&t[d-1][2]>a;d--)t[d]=t[d-1];t[d]=[o,i,a]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var o in e)s.o(e,o)&&!s.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};s.O.j=function(e){return 0===t[e]};var e=function(e,o){var i,a,r=o[0],n=o[1],c=o[2],l=0;if(r.some((function(e){return 0!==t[e]}))){for(i in n)s.o(n,i)&&(s.m[i]=n[i]);if(c)var d=c(s)}for(e&&e(o);l<r.length;l++)a=r[l],s.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return s.O(d)},o=self["webpackChunkbucket_list"]=self["webpackChunkbucket_list"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=s.O(void 0,[504],(function(){return s(4060)}));o=s.O(o)})();
//# sourceMappingURL=app.605c5761.js.map